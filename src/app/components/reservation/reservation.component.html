<div class="container mt-4">
  <h2>Gestion des Réservations</h2>
  
  <div class="table-responsive">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>ID</th>
          <th>Email</th>
          <th>Reservation Time</th>
          <th>Personnes</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let reservation of reservations">
          <td>{{reservation.reservationID}}</td>
          <td>{{reservation.email}}</td>
          <td>
            {{reservation.reservationTime ? (reservation.reservationTime | date:'dd/MM/yyyy HH:mm') : 'Non défini'}}
          </td>
          <td>1</td>
          <td>
            <span [class]="getStatusClass(reservation.status)">
              {{reservation.status === 'PENDING' ? 'En attente' : 'Confirmé'}}
            </span>
          </td>
          <td>
            @if (reservation.status === 'PENDING') {
              <div>
                <button class="btn btn-success btn-sm me-2" 
                        (click)="validateReservation(reservation.reservationID)">
                  Confirmer
                </button>
                <button class="btn btn-danger btn-sm" 
                        (click)="deleteReservation(reservation.reservationID)">
                  Refuser
                </button>
              </div>
            }
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>